# 디지털 지갑

### 지갑 구성 및 지갑의 역할
- 암호화폐를 안전하게 보관, 전달
- 자산의 소유권을 암호화 방식으로 증명 (지갑의 개인키를 활용하여 거래 서명을 검증하고 자산을 관리)
- 암호화폐 보유량 확인
- 거래내역 확인
- 복구 문구를 사용하여 지갑 복원 가능 (특정 알고리즘을 거쳐 개인키 추출)

<br>

### 금융
- 기존 방식
    - 장부를 가지고 모든 거래내역을 기록
    - 은행이라는 중앙기관이 가지고 있는 장부의 거래내역에 의존할 수 밖에 없음
- 분산 원장
    - 거래에 참여하는 모든 참여자가 장부를 가지고 있고, 거래가 발생했을 때 해당 거래내역을 각자의 장부에 기록

<br>

### 신원 인증 방식
- 분산 원장 기술로 개인키, 공개키, 서명(영수증)

<br>

### 암호화 방식
- 대칭형 : 암호화 - 복호화 할 때 동일한 1개의 키 사용
    - 암호화 한 사람과 수신하는 사람이 같은 키 사용
    - 대칭키를 가지고 있는 사람 누구나 전달 가능
    - 나 : 원본 데이터 -> 대칭키로 원본 암호화 -> 암호문
    - 상대 : 암호문 -> 대칭키로 복호화 -> 원본 데이터
- 비대칭형 : 암호화 키와 복호화 키가 다름
    - 다른 사람에게 공개되면 안되는 비밀키(복호화) & 비밀키를 토대로 만든 공개키(암호화)
    - 나 : 원본 데이터 -> 상대의 공개키로 암호화 -> 암호문
    - 상대 : 암호문 -> 상대의 비밀키로 복호화 -> 원본 데이터

<br>

### 지갑의 비밀키, 공개키
- 공개키 : 정보를 암호화할 때 사용하는 공개된 키
- 비밀키 : 암호문을 복호화할 때 사용하는 사용자만 가지고 있는 키
<br>
<br>
비밀키 소유자가 비밀키로 데이터를 암호화하고 공개키를 함께 전달<br>
공개키와 암호문을 받은 사람은 공개키를 이용해 검증 가능<br>
공개키를 제공한 사람의 신원을 보장해줌 (보낸 사람이 서명한 사람인지 검증) 데이터 무결성<br>
당사자끼리 데이터 기밀성 보장<br>
암호문이 공개키로 복호화 된다 == 공개키와 한쌍인 비밀키로 암호화 되었다 == 데이터의 제공자(서명 한 사람)가 맞다<br>
=> 공인 인증 체계의 기본 바탕이 되는 전자 서명

- ECC (Elliptic Curve C)
    - 타원 곡선 암호화 기술 (타원 곡선 수학을 기반으로 디지털 서명을 보호하기 위해 사용)
    - y^2 = x^3 + ax + b
    - 기준점과 비밀키를 가지고 공개키는 구할 수 있지만 역산은 어려움

<br>

### 블록체인 네트워크의 개인키(비밀키)
- 2진수로 랜덤값을 64자리의 16진수 값으로 만든 것
- 개인키가 겹칠 수도 있지만 겹칠 확률이 1/2^256 (천문학적으로 낮음)

1. 암호화하고 싶은 데이터를 SHA256 방식으로 해싱
2. 개인키를 사용하여 해시값으로 서명 생성
3. 서명과 공개키는 제3자에게 전달
4. 받은 제3자는 공개키를 이용해 서명을 검증
